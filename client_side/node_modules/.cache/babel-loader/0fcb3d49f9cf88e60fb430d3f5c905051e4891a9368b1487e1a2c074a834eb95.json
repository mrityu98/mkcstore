{"ast":null,"code":"import _regeneratorRuntime from\"C:/ecomm/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/ecomm/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/ecomm/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"C:/ecomm/client_side/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import{useState,useContext}from'react';import{ShoppingCart as Cart,FlashOn as Flash}from'@mui/icons-material';import{Button,Box,styled}from'@mui/material';import{useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{addToCart}from'../../redux/actions/cartActions';import LoginDialog from'../Login/login';import{DataContext}from'../../Context/dataprovider';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeftContainer=styled(Box)(function(_ref){var theme=_ref.theme;return _defineProperty({minWidth:'40%',padding:'40px 0 0 80px'},theme.breakpoints.down('md'),{padding:'20px 40px'});});var Image=styled('img')({padding:'15px',width:'95%',marginLeft:25});var StyledButton=styled(Button)(function(_ref3){var _ref4;var theme=_ref3.theme;return _ref4={width:'38%',height:'50px',borderRadius:2},_defineProperty(_ref4,theme.breakpoints.down('lg'),{width:'36%'}),_defineProperty(_ref4,theme.breakpoints.down('sm'),{width:'38%'}),_ref4;});var ActionItem=function ActionItem(_ref5){var product=_ref5.product;var navigate=useNavigate();var id=product.id;var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),quantity=_useState2[0],setQuantity=_useState2[1];var _useContext=useContext(DataContext),account=_useContext.account,setAccount=_useContext.setAccount;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),open=_useState4[0],setOpen=_useState4[1];var openDialog=function openDialog(){setOpen(true);};var addItemToCart=function addItemToCart(){dispatch(addToCart(id,quantity));navigate('/cart');};console.log(product);var loadScript=function loadScript(src){return new Promise(function(resolve){var script=document.createElement('script');script.src=src;script.onload=function(){resolve(true);};script.onerror=function(){resolve(false);};document.body.appendChild(script);});};var buyNow=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(amount){var res,options,paymentObject;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!account){_context.next=12;break;}_context.next=3;return loadScript('https://checkout.razorpay.com/v1/checkout.js');case 3:res=_context.sent;if(res){_context.next=7;break;}alert('Something went wrong');return _context.abrupt(\"return\");case 7:options={key:\"rzp_test_TCvaYNTOnlpJ6P\",currency:\"INR\",amount:amount*100,name:\"mkc store\",description:\"Thanks for purchasing\",handler:function handler(response){navigate('/');},prefill:{name:\"mkcfromiiest\"}};paymentObject=new window.Razorpay(options);paymentObject.open();_context.next=13;break;case 12:openDialog();case 13:case\"end\":return _context.stop();}},_callee);}));return function buyNow(_x){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(LeftContainer,{children:[/*#__PURE__*/_jsxs(Box,{style:{padding:'15px 20px',width:'67%'},children:[/*#__PURE__*/_jsx(Image,{src:product.detailUrl,alt:\"product\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(StyledButton,{onClick:function onClick(){return addItemToCart();},style:{marginLeft:25,marginRight:10,background:'#009933'},variant:\"contained\",children:[/*#__PURE__*/_jsx(Cart,{}),\"Add to Cart\"]}),/*#__PURE__*/_jsxs(StyledButton,{onClick:function onClick(){return buyNow(product.price.cost+40);},style:{background:'#009933'},variant:\"contained\",children:[/*#__PURE__*/_jsx(Flash,{}),\" Buy Now\"]}),/*#__PURE__*/_jsx(LoginDialog,{open:open,setOpen:setOpen})]});};export default ActionItem;","map":{"version":3,"names":["useState","useContext","ShoppingCart","Cart","FlashOn","Flash","Button","Box","styled","useNavigate","useDispatch","addToCart","LoginDialog","DataContext","jsx","_jsx","jsxs","_jsxs","LeftContainer","_ref","theme","_defineProperty","minWidth","padding","breakpoints","down","Image","width","marginLeft","StyledButton","_ref3","_ref4","height","borderRadius","ActionItem","_ref5","product","navigate","id","dispatch","_useState","_useState2","_slicedToArray","quantity","setQuantity","_useContext","account","setAccount","_useState3","_useState4","open","setOpen","openDialog","addItemToCart","console","log","loadScript","src","Promise","resolve","script","document","createElement","onload","onerror","body","appendChild","buyNow","_ref6","_asyncToGenerator","_regeneratorRuntime","mark","_callee","amount","res","options","paymentObject","wrap","_callee$","_context","prev","next","sent","alert","abrupt","key","currency","name","description","handler","response","prefill","window","Razorpay","stop","_x","apply","arguments","children","style","detailUrl","alt","onClick","marginRight","background","variant","price","cost"],"sources":["C:/ecomm/client_side/src/Components/DetailedView/actionItem.jsx"],"sourcesContent":["import { useState,useContext } from 'react';\r\nimport { ShoppingCart as Cart, FlashOn as Flash } from '@mui/icons-material';\r\nimport { Button, Box, styled } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { addToCart } from '../../redux/actions/cartActions';\r\nimport LoginDialog from '../Login/login';\r\nimport {DataContext}  from '../../Context/dataprovider';\r\n\r\nconst LeftContainer = styled(Box)(({ theme }) => ({\r\n    minWidth: '40%',\r\n    padding: '40px 0 0 80px',\r\n    [theme.breakpoints.down('md')]: {\r\n        padding: '20px 40px'\r\n    }\r\n}))\r\n\r\nconst Image = styled('img')({\r\n    padding: '15px',\r\n    width:'95%',\r\n    marginLeft:25\r\n   \r\n});\r\n\r\nconst StyledButton = styled(Button)(({ theme }) => ({\r\n    width: '38%',\r\n    height: '50px',\r\n    borderRadius:2,\r\n    [theme.breakpoints.down('lg')]: {\r\n        width:'36%'\r\n    },\r\n    [theme.breakpoints.down('sm')]: {\r\n        width:'38%'\r\n    }\r\n}))\r\n\r\n \r\nconst ActionItem = ({product})=>{\r\n\r\n    const navigate = useNavigate();\r\n    const { id } = product;\r\n    const dispatch = useDispatch();\r\n    const [quantity, setQuantity] = useState(1);\r\n    const { account, setAccount} = useContext(DataContext);\r\n    const [open, setOpen] = useState(false);\r\n    \r\n    const openDialog = () => {\r\n        setOpen(true);\r\n    }\r\n\r\n    const addItemToCart = () => {\r\n        dispatch(addToCart(id, quantity)); \r\n        navigate('/cart');\r\n    }\r\n\r\n    console.log(product);\r\n\r\nconst loadScript = (src) => {\r\n    return new Promise((resolve)=>{\r\n        const script=document.createElement('script')\r\n        script.src=src;\r\n        script.onload =()=>{\r\n            resolve(true)\r\n        }\r\n         script.onerror =()=>{\r\n            resolve(false)\r\n        }\r\n        document.body.appendChild(script);\r\n    })\r\n}\r\n    const buyNow = async (amount) => {\r\n      if (account){\r\n      const res = await loadScript('https://checkout.razorpay.com/v1/checkout.js');\r\n      if(!res){\r\n        alert('Something went wrong')\r\n        return;\r\n      }\r\n\r\n      const options={\r\n        key:\"rzp_test_TCvaYNTOnlpJ6P\",\r\n        currency:\"INR\",\r\n        amount:amount*100,\r\n        name:\"mkc store\",\r\n        description:\"Thanks for purchasing\",\r\n        handler: function (response) {\r\n        navigate('/');\r\n      },\r\n      prefill: {\r\n        name: \"mkcfromiiest\",\r\n      },\r\n    };\r\n \r\n    const paymentObject = new window.Razorpay(options);\r\n    paymentObject.open();\r\n    }\r\nelse{\r\n    openDialog();\r\n    \r\n}};\r\n\r\n\r\n    return (\r\n        <LeftContainer>\r\n            <Box style={{padding:'15px 20px',width: '67%'}}>\r\n            <Image src={product.detailUrl} alt=\"product\"/><br />\r\n            </Box>\r\n            <StyledButton onClick={() => addItemToCart()} style={{marginLeft:25,marginRight: 10, background: '#009933'}} variant=\"contained\"><Cart />Add to Cart</StyledButton>\r\n            <StyledButton onClick={() => buyNow(product.price.cost+40)} style={{ background: '#009933'}} variant=\"contained\"><Flash /> Buy Now</StyledButton>\r\n            <LoginDialog open={open} setOpen={setOpen}/>\r\n        </LeftContainer>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ActionItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}